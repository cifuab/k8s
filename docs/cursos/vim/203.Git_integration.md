---
title: "Git Integration: Fugitive y Herramientas"
description: "Domina la integraci√≥n de Git en Vim con Fugitive y herramientas complementarias para un flujo de trabajo eficiente."
tags: [vim, git, fugitive, herramientas]
keywords: [vim, git, fugitive, herramientas, productividad]
image: 'https://pabpereza.dev/img/banner_vim_git_integration.png'
sidebar_label: "Integraci√≥n con Git"
---

# Git Integration: Fugitive y Herramientas

Git es fundamental en el desarrollo moderno, y Vim puede integrarse perfectamente con Git para crear un workflow eficiente sin salir del editor. En este cap√≠tulo aprender√°s a dominar Git desde Vim.

## üåü Vim-Fugitive: Git en Vim

Fugitive es el plugin de Git m√°s poderoso para Vim, creado por Tim Pope. Transforma Vim en un cliente Git completo.

### Instalaci√≥n y configuraci√≥n b√°sica
```vim
" Instalaci√≥n con vim-plug
Plug 'tpope/vim-fugitive'

" Configuraci√≥n b√°sica
set diffopt+=vertical               " Diffs verticales por defecto

" Mapeos b√°sicos para Fugitive
nnoremap <Leader>gs :Git status<CR>
nnoremap <Leader>gc :Git commit<CR>
nnoremap <Leader>gp :Git push<CR>
nnoremap <Leader>gl :Git log --oneline<CR>
nnoremap <Leader>gd :Gdiff<CR>
nnoremap <Leader>gb :Git blame<CR>
```

## üìä Git Status y Navegaci√≥n

### Comando :Git status
```vim
:Git status    " O simplemente :G
```

#### Navegaci√≥n en la ventana de status
```
<Enter>     " Abrir archivo/diff
-           " Stage/unstage archivo
cc          " Commit
ca          " Commit --amend
ce          " Commit --amend --no-edit
cw          " Commit --amend --only
U           " Checkout (discard changes)
s           " Stage archivo
u           " Unstage archivo
X           " Discard changes in archivo
=           " Toggle inline diff
>           " Show more context
<           " Show less context
```

### Ejemplo de workflow b√°sico
```vim
" 1. Ver status
:G

" 2. Stage archivos (en la ventana de status)
" Usar 's' en cada archivo o '-' para toggle

" 3. Commit
" Presionar 'cc' en la ventana de status

" 4. Push
:Git push
```

## üîç Comandos Esenciales de Fugitive

### Informaci√≥n del repositorio
```vim
:Git status           " Status del repositorio
:Git log              " Log de commits
:Git log --oneline    " Log compacto
:Git log -p           " Log con diffs
:Git log --graph      " Log con gr√°fico ASCII
:Git show <commit>    " Mostrar commit espec√≠fico
:Git blame            " Blame del archivo actual
```

### Gesti√≥n de cambios
```vim
:Gdiff               " Diff del archivo actual
:Gdiff HEAD~1        " Diff con commit anterior
:Gdiff main          " Diff con rama main
:Git add %           " Stage archivo actual
:Git add .           " Stage todos los archivos
:Git reset %         " Unstage archivo actual
:Git checkout %      " Discard cambios del archivo actual
```

### Commits y ramas
```vim
:Git commit          " Commit interactivo
:Git commit -m "msg" " Commit con mensaje
:Git commit --amend  " Amend √∫ltimo commit
:Git branch          " Listar ramas
:Git checkout <rama> " Cambiar de rama
:Git checkout -b <nueva_rama>  " Crear y cambiar rama
:Git merge <rama>    " Merge rama
```

## üîÑ Workflows Avanzados

### Resoluci√≥n de conflictos
```vim
" Durante un merge con conflictos
:Git status          " Ver archivos en conflicto

" Abrir archivo con conflicto
:Gdiffsplit!         " Three-way diff

" En el three-way diff:
" - Ventana izquierda: versi√≥n target (HEAD)
" - Ventana central: archivo de trabajo
" - Ventana derecha: versi√≥n merge

" Obtener cambios de una versi√≥n
:diffget //2         " Obtener de target (izquierda)
:diffget //3         " Obtener de merge (derecha)

" O usar atajos
do                   " diffget (obtener cambio)
dp                   " diffput (enviar cambio)

" Finalizar resoluci√≥n
:Git add %           " Stage archivo resuelto
:Git commit          " Commit merge
```

### Gesti√≥n de hunks (chunks de c√≥digo)
```vim
" En modo diff o con gitgutter
]c                   " Siguiente hunk
[c                   " Hunk anterior

" Con vim-gitgutter (plugin adicional)
<Leader>hp           " Preview hunk
<Leader>hs           " Stage hunk
<Leader>hu           " Undo hunk
```

### Stash management
```vim
:Git stash           " Crear stash
:Git stash pop       " Aplicar √∫ltimo stash
:Git stash list      " Listar stashes
:Git stash show      " Mostrar √∫ltimo stash
:Git stash drop      " Eliminar √∫ltimo stash
:Git stash apply stash@{0}  " Aplicar stash espec√≠fico
```

## üîß Plugins Complementarios

### 1. vim-gitgutter (Indicadores visuales)
```vim
Plug 'airblade/vim-gitgutter'

" Configuraci√≥n
let g:gitgutter_enabled = 1
let g:gitgutter_map_keys = 0              " Deshabilitar mapeos por defecto
let g:gitgutter_highlight_lines = 0       " No resaltar l√≠neas completas
let g:gitgutter_sign_added = '+'
let g:gitgutter_sign_modified = '~'
let g:gitgutter_sign_removed = '-'

" Mapeos personalizados
nnoremap <Leader>hp :GitGutterPreviewHunk<CR>
nnoremap <Leader>hs :GitGutterStageHunk<CR>
nnoremap <Leader>hu :GitGutterUndoHunk<CR>
nnoremap <Leader>hn :GitGutterNextHunk<CR>
nnoremap <Leader>hN :GitGutterPrevHunk<CR>
```

### 2. vim-git (Sintaxis mejorada)
```vim
Plug 'tpope/vim-git'
" Mejora sintaxis para archivos Git (commit messages, etc.)
```

### 3. gv.vim (Git log visual)
```vim
Plug 'junegunn/gv.vim'

" Comandos
:GV              " Git log gr√°fico para todo el repo
:GV!             " Git log solo para archivo actual
:GV?             " Git log para buscar commits

" Navegaci√≥n en GV
o                " Abrir commit
O                " Abrir commit en nueva tab
gb               " Git blame
]]               " Siguiente commit
[[               " Commit anterior
```

## üìù Configuraci√≥n Completa de Git

### .vimrc optimizado para Git
```vim
" ============================================================================
" GIT CONFIGURATION
" ============================================================================

" Plugins
Plug 'tpope/vim-fugitive'
Plug 'airblade/vim-gitgutter'
Plug 'junegunn/gv.vim'

" Configuraci√≥n b√°sica
set diffopt+=vertical,filler,closeoff
autocmd BufReadPost fugitive://* set bufhidden=delete

" === MAPEOS FUGITIVE ===
nnoremap <Leader>g :Git<CR>
nnoremap <Leader>gs :Git status<CR>
nnoremap <Leader>gc :Git commit<CR>
nnoremap <Leader>gca :Git commit --amend<CR>
nnoremap <Leader>gp :Git push<CR>
nnoremap <Leader>gP :Git pull<CR>
nnoremap <Leader>gf :Git fetch<CR>
nnoremap <Leader>gl :Git log --oneline<CR>
nnoremap <Leader>gL :GV<CR>
nnoremap <Leader>gd :Gdiff<CR>
nnoremap <Leader>gb :Git blame<CR>

" Ramas
nnoremap <Leader>gco :Git checkout<Space>
nnoremap <Leader>gcb :Git checkout -b<Space>
nnoremap <Leader>gm :Git merge<Space>

" Stash
nnoremap <Leader>gst :Git stash<CR>
nnoremap <Leader>gsp :Git stash pop<CR>
nnoremap <Leader>gsl :Git stash list<CR>

" === MAPEOS GITGUTTER ===
let g:gitgutter_map_keys = 0
nnoremap <Leader>hp :GitGutterPreviewHunk<CR>
nnoremap <Leader>hs :GitGutterStageHunk<CR>
nnoremap <Leader>hu :GitGutterUndoHunk<CR>
nnoremap ]h :GitGutterNextHunk<CR>
nnoremap [h :GitGutterPrevHunk<CR>

" === CONFIGURACI√ìN GITGUTTER ===
let g:gitgutter_enabled = 1
let g:gitgutter_highlight_lines = 0
let g:gitgutter_sign_added = '‚ñé'
let g:gitgutter_sign_modified = '‚ñé'
let g:gitgutter_sign_removed = '‚ñé'
let g:gitgutter_sign_removed_first_line = '‚ñé'
let g:gitgutter_sign_modified_removed = '‚ñé'

" Actualizaci√≥n m√°s r√°pida
set updatetime=250

" === AUTOCOMANDOS ===
augroup GitConfiguration
  autocmd!
  
  " Configuraci√≥n para commit messages
  autocmd FileType gitcommit setlocal spell spelllang=en,es
  autocmd FileType gitcommit setlocal textwidth=72
  autocmd FileType gitcommit startinsert
  
  " Configuraci√≥n para rebase interactivo
  autocmd FileType gitrebase nnoremap <buffer> p :s/^pick/pick/<CR>
  autocmd FileType gitrebase nnoremap <buffer> r :s/^pick/reword/<CR>
  autocmd FileType gitrebase nnoremap <buffer> e :s/^pick/edit/<CR>
  autocmd FileType gitrebase nnoremap <buffer> s :s/^pick/squash/<CR>
  autocmd FileType gitrebase nnoremap <buffer> f :s/^pick/fixup/<CR>
  autocmd FileType gitrebase nnoremap <buffer> d :s/^pick/drop/<CR>
  
augroup END
```

## üîÑ Workflows Espec√≠ficos

### Workflow 1: Feature Branch
```vim
" 1. Crear rama para feature
:Git checkout -b feature/nueva-funcionalidad

" 2. Hacer cambios y commits
:G                   " Ver status
" Stage archivos con 's' en la ventana status
cc                   " Commit (en ventana status)

" 3. Push de la rama
:Git push -u origin feature/nueva-funcionalidad

" 4. Crear Pull Request (desde GitHub/GitLab)
" 5. Merge y cleanup
:Git checkout main
:Git pull
:Git branch -d feature/nueva-funcionalidad
```

### Workflow 2: Hotfix
```vim
" 1. Crear rama hotfix desde main
:Git checkout main
:Git pull
:Git checkout -b hotfix/bug-critico

" 2. Fix r√°pido
" ... hacer cambios ...
:G
cc                   " Commit r√°pido

" 3. Push y merge inmediato
:Git push -u origin hotfix/bug-critico
:Git checkout main
:Git merge hotfix/bug-critico
:Git push
:Git branch -d hotfix/bug-critico
```

### Workflow 3: Code Review
```vim
" 1. Ver cambios de un commit
:Git show <commit-hash>

" 2. Ver diferencias entre ramas
:Git diff main..feature/rama

" 3. Blame para contexto
:Git blame

" 4. Log para historia
:GV                  " Visual git log
```

## üßπ Comandos de Limpieza

### Cleanup del repositorio
```vim
" Ver ramas
:Git branch -a

" Eliminar ramas locales mergeadas
:Git branch --merged | grep -v '\*\|main\|master' | xargs git branch -d

" Limpiar ramas remotas eliminadas
:Git remote prune origin

" Garbage collection
:Git gc

" Ver tama√±o del repositorio
:Git count-objects -vH
```

### Comandos de informaci√≥n
```vim
" Estado general
:Git status --porcelain

" Informaci√≥n del repositorio
:Git remote -v
:Git config --list
:Git log --stat
:Git shortlog -sn

" Buscar en la historia
:Git log -S "funci√≥n_espec√≠fica"    " Buscar cuando se agreg√≥/quit√≥
:Git log -G "patr√≥n_regex"          " Buscar cambios en patr√≥n
:Git log --grep="mensaje"           " Buscar en mensajes de commit
```

## üìù Ejercicios Pr√°cticos

### Ejercicio 1: Setup y comandos b√°sicos
1. Instala vim-fugitive y vim-gitgutter
2. Configura mapeos personalizados
3. Practica workflow b√°sico: status, stage, commit, push
4. Explora la ventana de Git status

### Ejercicio 2: Resoluci√≥n de conflictos
1. Crea dos ramas con cambios conflictivos
2. Intenta merge para generar conflicto
3. Usa :Gdiffsplit! para resolver
4. Practica con diffget y diffput

### Ejercicio 3: Git log y navegaci√≥n
1. Usa :GV para explorar historia
2. Practica navegaci√≥n entre commits
3. Usa Git blame para entender cambios
4. Busca commits espec√≠ficos con diferentes criterios

### Ejercicio 4: Workflow completo
1. Simula un feature branch completo
2. Haz m√∫ltiples commits organizados
3. Usa stash durante el desarrollo
4. Practica cleanup al final

## üèÜ Tips Pro

### 1. Aliases √∫tiles de Git
```bash
# En ~/.gitconfig
[alias]
    st = status
    co = checkout
    br = branch
    ci = commit
    ca = commit --amend
    unstage = reset HEAD --
    last = log -1 HEAD
    visual = !gitk
    tree = log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit
```

### 2. Configuraci√≥n de merge tool
```vim
" En .vimrc para usar Vim como merge tool
if &diff
    " Configuraci√≥n espec√≠fica para modo diff
    set noro
    map <Leader>1 :diffget LOCAL<CR>
    map <Leader>2 :diffget BASE<CR>
    map <Leader>3 :diffget REMOTE<CR>
endif
```

### 3. Funciones personalizadas
```vim
" Funci√≥n para commit r√°pido
function! QuickCommit(message)
    execute 'Git add .'
    execute 'Git commit -m "' . a:message . '"'
endfunction
command! -nargs=1 Qcommit call QuickCommit(<q-args>)

" Funci√≥n para branch r√°pido
function! QuickBranch(name)
    execute 'Git checkout -b ' . a:name
endfunction
command! -nargs=1 Qbranch call QuickBranch(<q-args>)
```

### 4. Integraci√≥n con status line
```vim
" Mostrar rama actual en statusline
function! GitBranch()
    return system("git rev-parse --abbrev-ref HEAD 2>/dev/null | tr -d '\n'")
endfunction

set statusline+=%{GitBranch()}
```

## üîó Integraci√≥n con Tmux

### Workflow Git + Tmux
```bash
# Ventana dedicada a Git
tmux new-window -n 'git'
tmux send-keys 'vim' C-m

# En Vim, usar :G para management completo
# En panel adicional, comandos Git directos
tmux split-window -v
tmux send-keys 'git log --oneline' C-m
```

---

¬°Con Fugitive y estas herramientas tendr√°s control total sobre Git sin salir de Vim!
